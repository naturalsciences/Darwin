Institutions:
  tableName: people
  columns:
        id: { type: integer, notnull: true,primary: true, autoincrement: true}
        is_physical: { type: boolean, notnull: false}
        sub_type: { type: string }
        formated_name: { type: string},
        formated_name_indexed: { type: string}
        formated_name_ts: { type: string}
        family_name: { type: string, notnull: true}
        additional_names: { type: string}
        db_people_type:  { type: integer, notnull: true, default:0}

People:
    columns:
        id: { type: integer, notnull: true,primary: true, autoincrement: true}
        is_physical: { type: boolean, notnull: true}
        sub_type: { type: string }
        formated_name: { type: string},
        formated_name_indexed: { type: string}
        formated_name_ts: { type: string}
        title: { type: string}
        family_name: { type: string, notnull: true}
        given_name: { type: string}
        additional_names: { type: string}
        birth_date_mask: { type: integer, notnull: true, default:0}
        birth_date: { type: string, notnull: true, default: '0001-01-01'}
        gender: { type: enum, values: ['M','F'] }
        db_people_type:  { type: integer, notnull: true, default:0}
        end_date_mask:  { type: integer, notnull: true, default:0}
        end_date: { type: string, notnull: true, default: '2038-12-31'}
        activity_date_from: { type: string, notnull: true, default: '0001-01-01'}
        activity_date_from_mask: { type: integer, notnull: true, default:0}
        activity_date_to: { type: string, notnull: true, default: '2038-12-31'}
        activity_date_to_mask: { type: integer, notnull: true, default:0}

CatalogueRelationships:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        referenced_relation: { type: string, notnull: true}
        record_id_1: { type: integer, notnull: true}
        record_id_2: { type: integer, notnull: true}
        relationship_type: { type: string, notnull: true, default: recombined from }


CataloguePeople:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        referenced_relation: { type: string, notnull: true}
        record_id: { type: integer, notnull: true}
        people_type: {  type: string, notnull: true , default: author }
        people_sub_type: {  type: string, notnull: true }
        order_by: { type: integer, notnull: true, default: 1}
        people_ref: { type: integer, notnull: true}
    relations:
        People:
            local: people_ref
            foreign: id

CatalogueLevels:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        level_type: {  type: string, notnull: true}
        level_name: {  type: string, notnull: true}
        level_sys_name: {  type: string, notnull: true}
        optional_level: { type: boolean, notnull: true, default: false}

PossibleUpperLevels:
    columns:
        level_ref: { type: integer, notnull: true, primary:true}
        level_upper_ref: { type: integer, notnull: true, primary:true}
    relations:
        UpperLevel:
            class: CatalogueLevels
            local: level_upper_ref
            foreign: id
        Level:
            class: CatalogueLevels
            local: level_ref
            foreign: id

Comments:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        referenced_relation: { type: string, notnull: true}
        record_id: { type: integer, notnull: true}
        notion_concerned: { type: string, notnull: true}
        comment: { type: string, notnull: true}
        comment_ts: { type: string}
        comment_language_full_text: { type: string}

ExtLinks:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        referenced_relation: { type: string, notnull: true}
        record_id: { type: integer, notnull: true}
        url: { type: string, notnull: true}
        comment: { type: string, notnull: true}
        comment_ts: { type: string}
        comment_language_full_text: { type: string}


TagGroups:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        gtu_ref:  { type: integer, notnull: true }
        group_name: {type: string, notnull: true}
        group_name_indexed: { type: string }
        sub_group_name:  { type: string, notnull: true }
        sub_group_name_indexed: {type: string}
        color: {type: string, default: '#FFFFFF' }
        tag_value: { type: string, notnull: true}
    relations:
        Gtu:
            local: gtu_ref
            foreign: id

Tags:
    columns:
        gtu_ref:  { type: integer, notnull: true, primary:true}
        group_ref:  {type: integer, notnull: true, primary:true}
        tag:  { type: string, notnull: true}
        group_type:  { type: string, notnull: true}
        sub_group_type:  { type: string, notnull: true}
        tag_indexed: { type: string, notnull: true, primary:true}
    relations:
        TagGroups:
            local: group_ref
            foreign: id
        Gtu:
            local: gtu_ref
            foreign: id
Gtu:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        code: {type: string, notnull: true}
        parent_ref:  {type: integer, notnull: true,default:0}
        gtu_from_date_mask: { type: integer, notnull: true, default:0}
        gtu_from_date: { type: string, notnull: true, default: '0001-01-01'}
        gtu_to_date_mask: { type: integer, notnull: true, default:0}
        gtu_to_date: { type: string, notnull: true, default: '2038-12-31'}
        latitude: {type: float}
        longitude: {type: float}
        location: {type: string}
        lat_long_accuracy: {type: float}
        elevation: {type: float}
        elevation_accuracy: {type: float}
    relations:
        Parent:
            class: Gtu
            local: parent_ref
            foreign: id

CatalogueProperties:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        referenced_relation: { type: string, notnull: true}
        record_id: { type: integer, notnull: true}
        property_type: {type: string, notnull: true}
        property_sub_type: {type: string}
        property_sub_type_indexed: {type: string}
        property_qualifier: {type: string}
        property_qualifier_indexed: {type: string}
        date_from_mask: { type: integer, notnull: true, default:0}
        date_from: { type: string, notnull: true, default: '0001-01-01'}
        date_to_mask: { type: integer, notnull: true, default:0}
        date_to: { type: string, notnull: true, default: '2038-12-31'}
        property_unit: {type: string, default: ''}
        property_accuracy_unit: {type: string}
        property_method: {type: string}
        property_method_indexed: {type: string}
        property_tool: {type: string}
        property_tool_indexed: {type: string}

PropertiesValues:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        property_ref: { type: integer}
        property_value: {type: string, notnull: true}
        property_value_unified: {type: string}
        property_accuracy: {type: float}
        property_accuracy_unified: {type: float}
    relations:
        CatalogueProperties:
            local: property_ref
            foreign: id

Identifications:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        referenced_relation: { type: string, notnull: true}
        record_id: { type: integer, notnull: true}
        notion_concerned: { type: string, notnull: true, default:taxonomy}
        notion_date: { type: string, notnull: true, default: '0001-01-01'}
        notion_date_mask: { type: integer, notnull: true, default:0}
        value_defined:  { type: string}
        value_defined_indexed: { type: string}
        value_defined_ts: { type: string}
        determination_status: { type: string}
        order_by: { type: integer, notnull: true, default: 1}

ClassVernacularNames:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        referenced_relation: { type: string, notnull: true}
        record_id: { type: integer, notnull: true}
        community: { type: string, notnull: true}

VernacularNames:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        vernacular_class_ref: { type: integer}
        name:  { type: string, notnull: true}
        name_indexed:  { type: string}
        name_ts:  { type: string}
    relations:
        ClassVernacularNames:
            local: vernacular_class_ref
            foreign: id

Expeditions:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        name:  { type: string, notnull: true}
        name_ts:  { type: string}
        name_indexed:  { type: string}
        name_language_full_text:  { type: string}
        expedition_from_date_mask: { type: integer, notnull: true, default:0}
        expedition_from_date: { type: string, default:'0001-01-01'}
        expedition_to_date_mask: { type: integer, notnull: true, default:0}
        expedition_to_date: { type: string, default: '2038-12-31'}

Users:
    columns:
        id: { type: integer, primary: true, autoincrement: true}
        is_physical: { type: boolean, notnull: true}
        sub_type: { type: string }
        formated_name: { type: string},
        formated_name_indexed: { type: string}
        formated_name_ts: { type: string}
        title: { type: string}
        family_name: { type: string, notnull: true}
        given_name: { type: string}
        additional_names: { type: string}
        birth_date_mask: { type: integer, notnull: true, default:0}
        birth_date: { type: string, notnull: true, default: '0001-01-01'}
        gender: { type: enum, values: ['M','F'] }
        db_user_type: { type: integer, notnull: true, default: 1}
        people_id: { type: integer}
        last_seen: { type: string}
    relations:
        People:
            local: people_id
            foreign: id

PeopleLanguages:
    columns:
        id: { type: integer, primary: true, autoincrement: true}
        people_ref: { type: integer, notnull: true}
        language_country: { type: string, notnull: true, default: en}
        mother: { type: boolean, notnull: true, default: true}
        preferred_language: { type: boolean, notnull: true, default: false}
    relations:
        People:
            local: people_ref
            foreign: id

UsersLanguages:
    columns:
        id: { type: integer, primary: true, autoincrement: true}
        users_ref: { type: integer, notnull: true}
        language_country: { type: string, notnull: true, default: en}
        mother: { type: boolean, notnull: true, default: true}
        preferred_language: { type: boolean, notnull: true, default: false}
    relations:
        User:
            class: Users
            local: users_ref
            foreign: id

PeopleRelationships:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        relationship_type: { type: string, notnull: true, default: 'belongs to' }
        person_1_ref: { type: integer, notnull: true}
        person_2_ref: { type: integer, notnull: true}
        path: { type: string }
        activity_date_from: { type: string, notnull: true, default: '0001-01-01'}
        activity_date_from_mask: { type: integer, notnull: true, default:0}
        activity_date_to: { type: string, notnull: true, default: '2038-12-31'}
        activity_date_to_mask: { type: integer, notnull: true, default:0}
        person_user_role: { type: string }
    relations:
        Parent:
            class: Institutions
            local: person_1_ref
            foreign: id
        Child:
            class: People
            local: person_2_ref
            foreign: id

PeopleComm:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        person_user_ref: { type: integer, notnull: true}
        comm_type: { type: string, notnull: true, default: 'phone_fax' }
        tag: { type: string, notnull: true, default: ''}
        entry: { type: string, notnull: true }
    relations:
        People:
            local: person_user_ref
            foreign: id

PeopleAddresses:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        person_user_ref: { type: integer, notnull: true}
        tag: { type: string, notnull: true, default:''}
        entry: { type: string }
        po_box: { type: string }
        extended_address: { type: string }
        locality: { type: string, notnull:true }
        region: { type: string }
        zip_code: { type: string }
        country: { type: string, notnull:true }
        address_parts_ts: { type: string }
    relations:
        People:
            local: person_user_ref
            foreign: id

UsersComm:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        person_user_ref: { type: integer, notnull: true}
        comm_type: { type: string, notnull: true, default: 'phone/fax' }
        entry: { type: string, notnull: true}
        tag: { type: string, notnull: true, default: ''}
    relations:
        Users:
            local: person_user_ref
            foreign: id

UsersAddresses:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        person_user_ref: { type: integer, notnull: true}
        tag: { type: string, notnull: true, default: ''}
        entry: { type: string }
        organization_unit: { type: string }
        person_user_role: { type: string }
        po_box: { type: string }
        extended_address: { type: string }
        locality: { type: string, notnull:true }
        region: { type: string }
        zip_code: { type: string }
        country: { type: string, notnull:true }
        address_parts_ts: { type: string }
    relations:
        Users:
            local: person_user_ref
            foreign: id

UsersLoginInfos:
    columns:
        id: { type: integer, notnull: true, primary:true}
        user_ref: { type: integer, notnull: true}
        login_type: { type: string, notnull: true, default: local}
        user_name: { type: string }
        password: { type: string }
        login_system: { type: string}
        renew_hash: {type: string}
    relations:
        User:
            class: Users
            local: user_ref
            foreign: id

Collections:
    columns:
        id: { type: integer, primary: true, autoincrement: true}
        collection_type: { type: enum, notnull: true, default: mix, values: [mix, observation, physical] }
        code: { type: string, notnull: true}
        name: { type: string, notnull: true}
        name_indexed: { type: string} 
        institution_ref: { type: integer, notnull: true}
        main_manager_ref: { type: integer, notnull: true}
        parent_ref: { type: integer}
        path: { type: string, notnull: true, default: '/'}
        code_auto_increment: { type: boolean, notnull: true, default: false}
        code_last_value: { type: integer, notnull: true, default: 0}
        code_prefix: { type: string}
        code_prefix_separator: { type: string}
        code_suffix: { type: string}
        code_suffix_separator: { type: string}
        code_part_code_auto_copy: { type: boolean, notnull: true, default: false}
        is_public: { type:boolean, notnull:true,default:true}
    relations:
        Institution:
            class: People
            local: institution_ref
            foreign: id
        Manager:
            class: Users
            local: main_manager_ref
            foreign: id
        Parent:
            class: Collections
            local: parent_ref
            foreign: id

CollectionsRights:
    columns:
        id: { type: integer, primary: true, autoincrement: true}
        collection_ref: { type: integer, notnull: true }
        user_ref: { type: integer, notnull: true, default:0 }
        db_user_type: { type: integer, notnull: true, default:1 }
    relations:
        Collections:
            local: collection_ref
            foreign: id
        Users:
            local: user_ref
            foreign: id


UsersTracking:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        referenced_relation: { type: string, notnull: true}
        record_id: { type: integer, notnull: true}
        user_ref: { type: integer, notnull: true}
        action: { type: string, notnull: true, default: insert}
        modification_date_time: { type: string, notnull: true }
        old_value: { type: string}
        new_value: { type: string}
    relations:
        Users:
            local: user_ref
            foreign: id

CollectionMaintenance:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        record_id: { type: integer, notnull: true},
        referenced_relation: { type: string, notnull: true}
        people_ref: { type: integer, notnull: true}
        category: { type: string, notnull: true, default: action}
        action_observation: { type: string, notnull: true}
        description: { type: string }
        description_ts: { type: string }
        modification_date_time: { type: string, notnull: true }
        modification_date_mask : { type: integer, notnull: true, default: 0}
    relations:
        People:
            local: people_ref
            foreign: id

MySavedSearches:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        user_ref: { type: integer, notnull: true }
        name: { type: string, notnull: true }
        search_criterias: { type: string, notnull: true}
        favorite: { type: boolean, notnull: true, default: false}
        is_only_id: { type: boolean, notnull: true, default: false}
        modification_date_time: { type: string, notnull: true }
        visible_fields_in_result: { type: string, notnull: true}
        subject: { type: string, notnull: true}
    relations:
        User:
            class: Users
            local: user_ref
            foreign: id

MyWidgets:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        user_ref: { type: integer, notnull: true}
        category: { type: string, notnull: true, default: board_widget}
        group_name: { type: string, notnull: true}
        order_by: { type: integer, notnull: true, default:1 }
        col_num: { type: integer, notnull: true, default:1 }
        mandatory: { type: boolean, notnull: true, default: false}
        visible: { type: boolean, notnull: true, default: true}
        is_available: { type: boolean, notnull: true, default: false}
        opened: { type: boolean, notnull: true, default: true}
        color: { type: string, default:'#5BAABD'}
        is_available: { type: boolean, default: false}
        icon_ref: { type: integer}
        title_perso: { type: string}
        collections: { type: string }
        all_public: {type: boolean, notnull:true, default:false}
    relations:
        User:
            class: Users
            local: user_ref
            foreign: id
#         Multimedia:
#             local: icon_ref
#             foreign: id

Taxonomy:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        name: { type: string, notnull: true}
        name_indexed: { type: string}
        name_order_by: { type: string}
        level_ref: { type: integer, notnull: true}
        status: { type: string, notnull: true, default: valid}
        path: { type: string, notnull: false, default: '/'}
        parent_ref: { type: integer, default: 0}
        extinct: { type: boolean, notnull: true, default: false}
    relations:
        Parent:
            class: Taxonomy
            local: parent_ref
            foreign: id
        Level:
            class: CatalogueLevels
            local: level_ref
            foreign: id
            

ClassificationKeywords:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        referenced_relation: { type: string, notnull: true}
        record_id: { type: integer, notnull: true}
        keyword_type: {type: string, notnull:true, default: name}
        keyword: {type:string, notnull:true}

ClassificationSynonymies:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        referenced_relation: { type: string, notnull: true}
        record_id: { type: integer, notnull: true}
        group_id: { type: integer, notnull: true}
        group_name: {type:string, notnull:true}
        is_basionym: { type: boolean, default: false}
        order_by: { type: integer, notnull: true, default:0}

Chronostratigraphy:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        name: { type: string, notnull: true}
        name_indexed: { type: string}
        name_order_by: { type: string}
        level_ref: { type: integer, notnull: true}
        status: { type: string, notnull: true, default: valid}
        local_naming: { type: boolean, notnull: true, default: false}
        color: { type: string}
        path: { type: string, notnull: false, default: '/'}
        parent_ref: { type: integer, default: 0}
        lower_bound: { type: decimal, length: 10, scale: 3}
        upper_bound: { type: decimal, length: 10, scale: 3}
    relations:
        Parent:
            class: Chronostratigraphy
            local: parent_ref
            foreign: id
        Level:
            class: CatalogueLevels
            local: level_ref
            foreign: id

Lithostratigraphy:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        name: { type: string, notnull: true}
        name_indexed: { type: string}
        name_order_by: { type: string}
        level_ref: { type: integer, notnull: true}
        status: { type: string, notnull: true, default: valid}
        local_naming: { type: boolean, notnull: true, default: false}
        color: { type: string}
        path: { type: string, notnull: false, default: '/'}
        parent_ref: { type: integer, default: 0}
    relations:
        Parent:
            class: Lithostratigraphy
            local: parent_ref
            foreign: id
        Level:
            class: CatalogueLevels
            local: level_ref
            foreign: id

Mineralogy:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        name: { type: string, notnull: true}
        name_indexed: { type: string}
        name_order_by: { type: string}
        level_ref: { type: integer, notnull: true}
        status: { type: string, notnull: true, default: valid}
        local_naming: { type: boolean, notnull: true, default: false}
        color: { type: string}
        path: { type: string, notnull: false, default: '/'}
        parent_ref: { type: integer, default: 0}
        code: { type: string, notnull: true}
        classification: { type: string, notnull: true, default: strunz}
        formule: { type: string }
        formule_indexed: { type: string }
        cristal_system: { type: string }
    relations:
        Parent:
            class: Mineralogy
            local: parent_ref
            foreign: id
        Level:
            class: CatalogueLevels
            local: level_ref
            foreign: id

Lithology:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        name: { type: string, notnull: true}
        name_indexed: { type: string}
        name_order_by: { type: string}
        level_ref: { type: integer, notnull: true}
        status: { type: string, notnull: true, default: valid}
        local_naming: { type: boolean, notnull: true, default: false}
        color: { type: string}
        path: { type: string, notnull: false, default: '/'}
        parent_ref: { type: integer, default: 0}
    relations:
        Parent:
            class: Lithology
            local: parent_ref
            foreign: id
        Level:
            class: CatalogueLevels
            local: level_ref
            foreign: id

Igs:
    columns:
        id: { type: integer, primary: true, autoincrement: true}
        ig_num: { type: string, notnull: true}
        ig_num_indexed: { type: string, notnull: true}
        ig_date_mask: { type: integer, notnull: true, default:0}
        ig_date: { type: string, default:'0001-01-01'}

Specimens:
    columns:
        id: { type: integer, primary: true, autoincrement: true },
        category: { type: string, notnull: true, default: physical },
        collection_ref: { type: integer, notnull: true }
        expedition_ref: { type: integer, default: 0}
        gtu_ref: { type: integer, default: 0}
        taxon_ref: { type: integer, default: 0}
        litho_ref: { type: integer, default: 0}
        chrono_ref: { type: integer, default: 0}
        lithology_ref: { type: integer, default: 0}
        mineral_ref: { type: integer, default: 0}
        host_taxon_ref: { type: integer, default: 0}
        host_specimen_ref: { type: integer}
        host_relationship: { type: string}
        acquisition_category: { type: string, default: expedition}
        acquisition_date_mask: { type: integer, notnull: true, default:0}
        acquisition_date: { type: string, default: '0001-01-01'}
        station_visible: { type: boolean, default: true}
        multimedia_visible: { type: boolean, default: true}
        ig_ref: { type: integer}
    relations:
        Collections:
            local: collection_ref
            foreign: id
        Expeditions:
            local: expedition_ref
            foreign: id
        Gtu:
            local: gtu_ref
            foreign: id
        Taxonomy:
            local: taxon_ref
            foreign: id
        Lithostratigraphy:
            local: litho_ref
            foreign: id
        Chronostratigraphy:
            local: chrono_ref
            foreign: id
        Lithology:
            local: lithology_ref
            foreign: id
        Mineralogy:
            local: mineral_ref
            foreign: id
        HostTaxon:
            class: Taxonomy
            local: host_taxon_ref
            foreign: id
        HostSpecimen:
            class: Specimens
            local: host_specimen_ref
            foreign: id
        Igs:
            class: Igs
            local: ig_ref
            foreign: id
        CollectingMethods:
            class: CollectingMethods
            refClass: SpecimensMethods
            local: specimen_ref
            foreign: collecting_method_ref
        CollectingTools:
            class: CollectingTools
            refClass: SpecimensTools
            local: specimen_ref
            foreign: collecting_tool_ref

CollectingMethods:
    tableName: collecting_methods
    columns:
        id: { type: integer, primary: true, autoincrement: true}
        method: { type:string, notnull: true }
        method_indexed: { type: string}
    relations:
        Specimens:
            class: Specimens
            refClass: SpecimensMethods
            local: collecting_method_ref
            foreign: specimen_ref

CollectingTools:
    tableName: collecting_tools
    columns:
        id: { type: integer, primary: true, autoincrement: true}
        tool: { type:string, notnull: true }
        tool_indexed: { type: string}
    relations:
        Specimens:
            class: Specimens
            refClass: SpecimensTools
            local: collecting_tool_ref
            foreign: specimen_ref

Codes:
  columns:
        id: { type: integer, primary: true, autoincrement: true}
        referenced_relation : { type: string, notnull: true}
        record_id: { type: integer, notnull: true}
        code_category: { type: string, notnull: true, default: main}
        code_prefix: { type: string}
        code_prefix_separator: { type: string}
        code: { type: string}
        code_suffix: { type: string}
        code_suffix_separator: { type: string}
        full_code_indexed: { type: string}
        full_code_order_by: { type: string}
        code_date: { type: string}
        code_date_mask: { type: integer, notnull: true, default:0}

SpecimenIndividuals:
    columns:
        id: { type: integer, primary: true, autoincrement: true },
        specimen_ref: { type: integer, notnull: true }
        type: { type: string, notnull: true, default: specimen}
        type_group: { type: string, notnull: true, default: specimen}
        type_search: { type: string, notnull: true, default: specimen}
        sex: { type: string, notnull: true, default: undefined}
        stage: { type: string, notnull: true, default: undefined}
        state: { type: string, notnull: true, default: 'not applicable'}
        social_status: { type: string, notnull: true, default: 'not applicable'}
        rock_form: { type: string, notnull: true, default: 'not applicable'}
        specimen_individuals_count_min: { type: integer, notnull: true, default:1}
        specimen_individuals_count_max: { type: integer, notnull: true, default:1}
        with_parts: {type: boolean}
    relations:
        Specimens:
            local: specimen_ref
            foreign: id

SpecimenParts:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        path: { type: string, notnull: true, default: '/'}
        parent_ref:  {type: integer, default:null}
        specimen_individual_ref: { type: integer, notnull: true }
        specimen_part: { type: string, notnull: true, default: specimen}
        complete: { type: boolean, notnull: true, default: true}
        building: { type: string}
        floor: { type: string}
        room: { type: string}
        row: { type: string}
        shelf: { type: string}
        container: { type: string}
        sub_container: { type: string}
        container_type: { type: string, notnull: true, default: container}
        sub_container_type: { type: string, notnull: true, default: container}
        container_storage: { type: string, notnull: true, default: dry}
        sub_container_storage: { type: string, notnull: true, default: dry}
        surnumerary: { type: boolean, notnull: true, default: false}
        specimen_status: { type: string, notnull: true, default: 'good state'}
        specimen_part_count_min: { type: integer, notnull: true, default:1}
        specimen_part_count_max: { type: integer, notnull: true, default:1}
    relations:
        Individual:
            class: SpecimenIndividuals
            local: specimen_individual_ref
            foreign: id
        Parent:
            class: SpecimenParts
            local: parent_ref
            foreign: id

Preferences:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        pref_key: { type: string, notnull: true}
        pref_value: { type: string, notnull: true}
        user_ref: { type: integer, notnull: true}
    relations:
        User:
            class: Users
            local: user_ref
            foreign: id

Insurances:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        referenced_relation: { type: string, notnull: true}
        record_id: { type: integer, notnull: true}
        insurance_value: { type: decimal, length: 16, scale: 2, notnull: true}
        insurance_currency: { type: string, notnull: true, default: 'â‚¬'}
        insurance_year: { type: integer, default:0}
        insurer_ref: { type: integer}
    relations:
        People:
            local: insurer_ref
            foreign: id

SpecimensAccompanying:
    columns:
        accompanying_type: { type: string, notnull: true, default: biological}
        specimen_ref: { type: integer, notnull: true}
        taxon_ref: { type: integer, notnull: true, default:0}
        mineral_ref: { type: integer, notnull: true, default:0}
        form: { type: string, notnull: true, default: isolated}
        quantity: { type: decimal, length: 16, scale: 2}
        unit: { type: string, default: '%'}
    relations:
        Specimens:
            local: specimen_ref
            foreign: id
        Taxonomy:
            local: taxon_ref
            foreign: id
        Mineralogy:
            local: mineral_ref
            foreign: id

SpecimensCodes:
    tableName: codes
    columns:
        id: { type: integer, primary: true, autoincrement: true}
        referenced_relation : { type: string, notnull: true, default: specimens}
        record_id: { type: integer, notnull: true}
        code_category: { type: string, notnull: true, default: main}
        code_prefix: { type: string}
        code_prefix_separator: { type: string}
        code: { type: string}
        code_suffix: { type: string}
        code_suffix_separator: { type: string}
        full_code_indexed: { type: string}
        full_code_order_by: { type: string}
        code_date: { type: string}
        code_date_mask: { type: integer, notnull: true, default:0}
    relations:
        SpecimenSearch:
            local: record_id
            foreign: spec_ref

SpecimensMethods:
    tableName: specimen_collecting_methods
    columns:
        id: { type: integer, primary: true, autoincrement: true}
        specimen_ref: { type: integer, notnull: true}
        collecting_method_ref: { type: integer, notnull: true}
    relations:
        Specimens:
          local: specimen_ref
          foreign: id
        CollectingMethods:
          local: collecting_method_ref
          foreign: id

SpecimensTools:
    tableName: specimen_collecting_tools
    columns:
        id: { type: integer, primary: true, autoincrement: true}
        specimen_ref: { type: integer, notnull: true}
        collecting_tool_ref: { type: integer, notnull: true}
    relations:
        Specimens:
          local: specimen_ref
          foreign: id
        CollectingTools:
          local: collecting_tool_ref
          foreign: id

SpecimenSearch:
    tableName: darwin_flat
    columns:
#         id: { type: integer, primary: true, autoincrement: true}
        spec_ref: { type: integer, notnull: true, primary: true}
        category: { type: string}
        collection_ref: { type: integer, notnull: true, default:0}
        collection_type: { type: string}
        collection_code: { type: string}
        collection_name: { type: string}
        collection_is_public: {type: boolean, notnull: true, default: true}
        collection_parent_ref: { type: integer, default:0}
        collection_path: { type: string}
        expedition_ref: { type: integer, notnull: true, default:0}
        expedition_name: { type: string}
        expedition_name_ts: { type: string}
        expedition_name_indexed: { type: string}
        station_visible: { type: boolean}
        gtu_ref: { type: integer, notnull: true, default:0}
        gtu_code: { type: string}
        gtu_parent_ref: { type: integer, default:0}
        gtu_path: { type: string}
        gtu_from_date_mask: { type: integer }
        gtu_from_date: { type: string}
        gtu_to_date_mask: { type: integer }
        gtu_to_date: { type: string}
        gtu_tag_values_indexed: { type: string}
        gtu_country_tag_indexed: { type: string}
        gtu_country_tag_value: { type: string}
        gtu_location: { type: string}
        taxon_ref: { type: integer, notnull: true, default:0}
        taxon_name:  { type: string}
        taxon_name_indexed: { type: string}    
        taxon_name_order_by: { type: string}
        taxon_level_ref: { type: integer, notnull: true }
        taxon_level_name: { type: string}
        taxon_status: { type: string}
        taxon_path: { type: string}
        taxon_parent_ref: { type: integer, default:0}
        taxon_extinct: { type: boolean}
        litho_ref: { type: integer, notnull: true, default:0} 
        litho_name: { type: string}
        litho_name_indexed: { type: string}
        litho_name_order_by: { type: string}
        litho_level_ref: { type: integer, notnull: true, default:0}    
        litho_level_name: { type: string}
        litho_status: { type: string}
        litho_local: { type: boolean}
        litho_color: { type: string}
        litho_path: { type: string}                
        litho_parent_ref: { type: integer, default:0}
        chrono_ref: { type: integer, notnull: true, default:0}
        chrono_name: { type: string}
        chrono_name_indexed: { type: string}
        chrono_name_order_by: { type: string}
        chrono_level_ref: { type: integer, notnull: true, default:0}
        chrono_level_name: { type: string}
        chrono_status: { type: string}
        chrono_local: {type: boolean}
        chrono_color: {type: string}
        chrono_path: { type: string}
        chrono_parent_ref: { type: integer, default:0}
        lithology_ref: { type: integer, notnull: true, default:0}    
        lithology_name: { type: string}
        lithology_name_indexed: { type: string}
        lithology_name_order_by: { type: string}
        lithology_level_ref: { type: integer, notnull: true, default:0}
        lithology_level_name: { type: string}
        lithology_status: { type: string}
        lithology_local: { type: boolean}
        lithology_color: { type: string}
        lithology_path: { type: string}
        lithology_parent_ref: { type: integer, default:0}
        mineral_ref: { type: integer, notnull: true, default:0}
        mineral_name: { type: string}
        mineral_name_indexed: { type: string}
        mineral_name_order_by: { type: string}
        mineral_level_ref: { type: integer, notnull: true, default:0}
        mineral_level_name: { type: string}
        mineral_status: { type: string}
        mineral_local: { type: boolean}
        mineral_color: { type: string}
        mineral_path: { type: string}
        mineral_parent_ref: { type: integer, default:0}
        host_taxon_ref: { type: integer, notnull: true, default:0}   
        host_relationship: { type: string}
        host_taxon_name: { type: string}
        host_taxon_name_indexed: { type: string}
        host_taxon_name_order_by: { type: string}
        host_taxon_level_ref: { type: integer, notnull: true, default:0}
        host_taxon_level_name: { type: string}
        host_taxon_status: { type: string}
        host_taxon_path: { type: string}
        host_taxon_parent_ref: { type: integer, default:0}
        host_taxon_extinct: { type: boolean}      
        host_specimen_ref: { type: integer}
        ig_ref: { type: integer}                  
        ig_num: { type: string}           
        ig_num_indexed: { type: string}
        ig_date_mask: { type: integer }                 
        ig_date: { type: string}                      
        acquisition_category: { type: string}     
        acquisition_date_mask: { type: integer }        
        acquisition_date: { type: string}             
        with_types: {type: boolean }
        with_individuals: {type: boolean}
        individual_ref: {type: integer}
        individual_type: {type: string, notnull: true, default:'specimen'}
        individual_type_group: {type: string, notnull: true, default: 'specimen'}
        individual_type_search: {type: string, notnull: true, default: 'specimen'}
        individual_sex:  {type: string, notnull: true, default: 'undefined'}
        individual_state: {type: string, notnull: true, default: 'not applicable'}
        individual_stage: {type: string, notnull: true, default: 'undefined'}
        individual_social_status: {type: string, notnull: true, default: 'not applicable'}
        individual_rock_form: {type: string, notnull: true, default: 'not applicable'}
        individual_count_min: {type: integer }
        individual_count_max: {type: integer }
        with_parts: {type: boolean}
        part_ref: {type: integer }
        part: {type: string }
        part_status: {type: string }
        building: {type: string }
        floor: {type: string }
        room: {type: string }
        row: {type: string }
        shelf: {type: string }
        container_type: {type: string }
        container_storage: {type: string }
        container: {type: string }
        sub_container_type: {type: string }
        sub_container_storage: {type: string}
        sub_container: {type: string }
        part_count_min: {type: integer }
        part_count_max: {type:integer}
        specimen_status: {type: string}
        complete: {type: boolean}
        surnumerary: {type: boolean}
        spec_ident_ids: { type: string}
        ind_ident_ids: { type: string}
        spec_coll_ids: { type: string}
        spec_don_sel_ids: { type: string}
    relations:
        Specimen:
            class: Specimens
            local: spec_ref
            foreign: id
        SpecimenIndividual:
            class: SpecimenIndividuals
            local: individual_ref
            foreign: id
        PartRelation:
            class: SpecimenParts
            local: part_ref
            foreign: id
        Collection:
            class: Collections
            local: collection_ref
            foreign: id
        CollectionParent:
            local: collection_parent_ref
            foreign: id
            class: Collections
        Expedition:
            local: expedition_ref
            foreign: id
            class: Expeditions
        Gtu:
            local: gtu_ref
            foreign: id
        GtuParent:
            local: gtu_parent_ref
            foreign: id
            class: Gtu 
        Taxonomy:
            local: taxon_ref
            foreign: id
        TaxonomyLevel:
            local: taxon_level_ref
            foreign: id
            class: CatalogueLevels
        TaxonomyParent:
            local: taxon_parent_ref
            foreign: id
            class: Taxonomy
        Lithostratigraphy:
            local: litho_ref
            foreign: id
        LithostratigraphyLevel:
            local: litho_level_ref
            foreign: id
            class: CatalogueLevels
        LithostratigraphyParent:
            local: litho_parent_ref
            foreign: id
            class: Lithostratigraphy
        Chronostratigraphy:
            local: chrono_ref
            foreign: id
        ChronostratigraphyLevel:
            local: chrono_level_ref
            foreign: id
            class: CatalogueLevels
        ChronostratigraphyParent:
            local: chrono_parent_ref
            foreign: id
            class: Chronostratigraphy
        Lithology:
            local: lithology_ref
            foreign: id
        LithologyLevel:
            local: lithology_level_ref
            foreign: id
            class: CatalogueLevels
        LithologyParent:
            local: lithology_parent_ref
            foreign: id
            class: Lithology
        Mineralogy:
            local: mineral_ref
            foreign: id
        MineralogyLevel:
            local: mineral_level_ref
            foreign: id
            class: CatalogueLevels
        MineralogyParent:
            local: mineral_parent_ref
            foreign: id
            class: Mineralogy
        HostTaxon:            
            local: host_taxon_ref
            foreign: id
            class: Taxonomy
        HostTaxonLevel:
            local: host_taxon_level_ref
            foreign: id
            class: CatalogueLevels
        HostTaxonParent:
            local: host_taxon_parent_ref
            foreign: id
            class: Taxonomy
        HostSpecimen:            
            local: host_specimen_ref
            foreign: id
            class: Specimens
        Ig:
            local: ig_ref
            foreign: id
            class: Igs          

IndividualSearch:
    tableName: darwin_flat
    columns:
#         id: { type: integer, primary: true, autoincrement: true}
        spec_ref: { type: integer, notnull: true}
        category: { type: string}
        collection_ref: { type: integer, notnull: true, default:0}
        collection_type: { type: string}
        collection_code: { type: string}
        collection_name: { type: string}
        collection_is_public: {type: boolean, notnull: true, default: true}
        collection_parent_ref: { type: integer, default:0}
        collection_path: { type: string}
        expedition_ref: { type: integer, notnull: true, default:0}
        expedition_name: { type: string}
        expedition_name_ts: { type: string}
        expedition_name_indexed: { type: string}
        station_visible: { type: boolean}
        gtu_ref: { type: integer, notnull: true, default:0}
        gtu_code: { type: string}
        gtu_parent_ref: { type: integer, default:0}
        gtu_path: { type: string}
        gtu_from_date_mask: { type: integer }
        gtu_from_date: { type: string}
        gtu_to_date_mask: { type: integer }
        gtu_to_date: { type: string}
        gtu_tag_values_indexed: { type: string}
        gtu_country_tag_value: { type: string}
        gtu_country_tag_indexed: { type: string}
        gtu_location: { type: string}
        taxon_ref: { type: integer, notnull: true, default:0}
        taxon_name:  { type: string}
        taxon_name_indexed: { type: string}    
        taxon_name_order_by: { type: string}
        taxon_level_ref: { type: integer, notnull: true }
        taxon_level_name: { type: string}
        taxon_status: { type: string}
        taxon_path: { type: string}
        taxon_parent_ref: { type: integer, default:0}
        taxon_extinct: { type: boolean}
        litho_ref: { type: integer, notnull: true, default:0} 
        litho_name: { type: string}
        litho_name_indexed: { type: string}
        litho_name_order_by: { type: string}
        litho_level_ref: { type: integer, notnull: true, default:0}    
        litho_level_name: { type: string}
        litho_status: { type: string}
        litho_local: { type: boolean}
        litho_color: { type: string}
        litho_path: { type: string}                
        litho_parent_ref: { type: integer, default:0}
        chrono_ref: { type: integer, notnull: true, default:0}
        chrono_name: { type: string}
        chrono_name_indexed: { type: string}
        chrono_name_order_by: { type: string}
        chrono_level_ref: { type: integer, notnull: true, default:0}
        chrono_level_name: { type: string}
        chrono_status: { type: string}
        chrono_local: {type: boolean}
        chrono_color: {type: string}
        chrono_path: { type: string}
        chrono_parent_ref: { type: integer, default:0}
        lithology_ref: { type: integer, notnull: true, default:0}    
        lithology_name: { type: string}
        lithology_name_indexed: { type: string}
        lithology_name_order_by: { type: string}
        lithology_level_ref: { type: integer, notnull: true, default:0}
        lithology_level_name: { type: string}
        lithology_status: { type: string}
        lithology_local: { type: boolean}
        lithology_color: { type: string}
        lithology_path: { type: string}
        lithology_parent_ref: { type: integer, default:0}
        mineral_ref: { type: integer, notnull: true, default:0}
        mineral_name: { type: string}
        mineral_name_indexed: { type: string}
        mineral_name_order_by: { type: string}
        mineral_level_ref: { type: integer, notnull: true, default:0}
        mineral_level_name: { type: string}
        mineral_status: { type: string}
        mineral_local: { type: boolean}
        mineral_color: { type: string}
        mineral_path: { type: string}
        mineral_parent_ref: { type: integer, default:0}
        host_taxon_ref: { type: integer, notnull: true, default:0}   
        host_relationship: { type: string}
        host_taxon_name: { type: string}
        host_taxon_name_indexed: { type: string}
        host_taxon_name_order_by: { type: string}
        host_taxon_level_ref: { type: integer, notnull: true, default:0}
        host_taxon_level_name: { type: string}
        host_taxon_status: { type: string}
        host_taxon_path: { type: string}
        host_taxon_parent_ref: { type: integer, default:0}
        host_taxon_extinct: { type: boolean}      
        host_specimen_ref: { type: integer}
        ig_ref: { type: integer}                  
        ig_num: { type: string}           
        ig_num_indexed: { type: string}
        ig_date_mask: { type: integer }                 
        ig_date: { type: string}                      
        acquisition_category: { type: string}     
        acquisition_date_mask: { type: integer }        
        acquisition_date: { type: string}             
        with_types: {type: boolean }
        with_individuals: {type:boolean}
        individual_ref: {type: integer, primary: true}
        individual_type: {type: string, notnull: true, default:'specimen'}
        individual_type_group: {type: string, notnull: true, default: 'specimen'}
        individual_type_search: {type: string, notnull: true, default: 'specimen'}
        individual_sex:  {type: string, notnull: true, default: 'undefined'}
        individual_state: {type: string, notnull: true, default: 'not applicable'}
        individual_stage: {type: string, notnull: true, default: 'undefined'}
        individual_social_status: {type: string, notnull: true, default: 'not applicable'}
        individual_rock_form: {type: string, notnull: true, default: 'not applicable'}
        individual_count_min: {type: integer }
        individual_count_max: {type: integer }
        with_parts: {type: boolean}
        part_ref: {type: integer }
        part: {type: string }
        part_status: {type: string }
        building: {type: string }
        floor: {type: string }
        room: {type: string }
        row: {type: string }
        shelf: {type: string }
        container_type: {type: string }
        container_storage: {type: string }
        container: {type: string }
        sub_container_type: {type: string }
        sub_container_storage: {type: string}
        sub_container: {type: string }
        part_count_min: {type: integer }
        part_count_max: {type:integer}
        specimen_status: {type: string}
        complete: {type: boolean}
        surnumerary: {type: boolean}
        spec_ident_ids: { type: string}
        ind_ident_ids: { type: string}
        spec_coll_ids: { type: string}
        spec_don_sel_ids: { type: string}
    relations:
        Specimen:
            class: Specimens
            local: spec_ref
            foreign: id
        SpecimenIndividual:
            class: SpecimenIndividuals
            local: individual_ref
            foreign: id
        PartRelation:
            class: SpecimenParts
            local: part_ref
            foreign: id
        Collection:
            class: Collections
            local: collection_ref
            foreign: id
        CollectionParent:
            local: collection_parent_ref
            foreign: id
            class: Collections
        Expedition:
            local: expedition_ref
            foreign: id
            class: Expeditions
        Gtu:
            local: gtu_ref
            foreign: id
        GtuParent:
            local: gtu_parent_ref
            foreign: id
            class: Gtu 
        Taxonomy:
            local: taxon_ref
            foreign: id
        TaxonomyLevel:
            local: taxon_level_ref
            foreign: id
            class: CatalogueLevels
        TaxonomyParent:
            local: taxon_parent_ref
            foreign: id
            class: Taxonomy
        Lithostratigraphy:
            local: litho_ref
            foreign: id
        LithostratigraphyLevel:
            local: litho_level_ref
            foreign: id
            class: CatalogueLevels
        LithostratigraphyParent:
            local: litho_parent_ref
            foreign: id
            class: Lithostratigraphy
        Chronostratigraphy:
            local: chrono_ref
            foreign: id
        ChronostratigraphyLevel:
            local: chrono_level_ref
            foreign: id
            class: CatalogueLevels
        ChronostratigraphyParent:
            local: chrono_parent_ref
            foreign: id
            class: Chronostratigraphy
        Lithology:
            local: lithology_ref
            foreign: id
        LithologyLevel:
            local: lithology_level_ref
            foreign: id
            class: CatalogueLevels
        LithologyParent:
            local: lithology_parent_ref
            foreign: id
            class: Lithology
        Mineralogy:
            local: mineral_ref
            foreign: id
        MineralogyLevel:
            local: mineral_level_ref
            foreign: id
            class: CatalogueLevels
        MineralogyParent:
            local: mineral_parent_ref
            foreign: id
            class: Mineralogy
        HostTaxon:            
            local: host_taxon_ref
            foreign: id
            class: Taxonomy
        HostTaxonLevel:
            local: host_taxon_level_ref
            foreign: id
            class: CatalogueLevels
        HostTaxonParent:
            local: host_taxon_parent_ref
            foreign: id
            class: Taxonomy
        HostSpecimen:            
            local: host_specimen_ref
            foreign: id
            class: Specimens
        Ig:
            local: ig_ref
            foreign: id
            class: Igs


PartSearch:
    tableName: darwin_flat
    columns:
        id: { type: integer, autoincrement: true,  primary: true}
        spec_ref: { type: integer, notnull: true}
        category: { type: string}
        collection_ref: { type: integer, notnull: true, default:0}
        collection_type: { type: string}
        collection_code: { type: string}
        collection_name: { type: string}
        collection_is_public: {type: boolean, notnull: true, default: true}
        collection_parent_ref: { type: integer, default:0}
        collection_path: { type: string}
        expedition_ref: { type: integer, notnull: true, default:0}
        expedition_name: { type: string}
        expedition_name_ts: { type: string}
        expedition_name_indexed: { type: string}
        station_visible: { type: boolean}
        gtu_ref: { type: integer, notnull: true, default:0}
        gtu_code: { type: string}
        gtu_parent_ref: { type: integer, default:0}
        gtu_path: { type: string}
        gtu_from_date_mask: { type: integer }
        gtu_from_date: { type: string}
        gtu_to_date_mask: { type: integer }
        gtu_to_date: { type: string}
        gtu_tag_values_indexed: { type: string}
        gtu_country_tag_indexed: { type: string}
        gtu_country_tag_value: { type: string}
        gtu_location: { type: string}
        taxon_ref: { type: integer, notnull: true, default:0}
        taxon_name:  { type: string}
        taxon_name_indexed: { type: string}    
        taxon_name_order_by: { type: string}
        taxon_level_ref: { type: integer, notnull: true }
        taxon_level_name: { type: string}
        taxon_status: { type: string}
        taxon_path: { type: string}
        taxon_parent_ref: { type: integer, default:0}
        taxon_extinct: { type: boolean}
        litho_ref: { type: integer, notnull: true, default:0} 
        litho_name: { type: string}
        litho_name_indexed: { type: string}
        litho_name_order_by: { type: string}
        litho_level_ref: { type: integer, notnull: true, default:0}    
        litho_level_name: { type: string}
        litho_status: { type: string}
        litho_local: { type: boolean}
        litho_color: { type: string}
        litho_path: { type: string}                
        litho_parent_ref: { type: integer, default:0}
        chrono_ref: { type: integer, notnull: true, default:0}
        chrono_name: { type: string}
        chrono_name_indexed: { type: string}
        chrono_name_order_by: { type: string}
        chrono_level_ref: { type: integer, notnull: true, default:0}
        chrono_level_name: { type: string}
        chrono_status: { type: string}
        chrono_local: {type: boolean}
        chrono_color: {type: string}
        chrono_path: { type: string}
        chrono_parent_ref: { type: integer, default:0}
        lithology_ref: { type: integer, notnull: true, default:0}    
        lithology_name: { type: string}
        lithology_name_indexed: { type: string}
        lithology_name_order_by: { type: string}
        lithology_level_ref: { type: integer, notnull: true, default:0}
        lithology_level_name: { type: string}
        lithology_status: { type: string}
        lithology_local: { type: boolean}
        lithology_color: { type: string}
        lithology_path: { type: string}
        lithology_parent_ref: { type: integer, default:0}
        mineral_ref: { type: integer, notnull: true, default:0}
        mineral_name: { type: string}
        mineral_name_indexed: { type: string}
        mineral_name_order_by: { type: string}
        mineral_level_ref: { type: integer, notnull: true, default:0}
        mineral_level_name: { type: string}
        mineral_status: { type: string}
        mineral_local: { type: boolean}
        mineral_color: { type: string}
        mineral_path: { type: string}
        mineral_parent_ref: { type: integer, default:0}
        host_taxon_ref: { type: integer, notnull: true, default:0}   
        host_relationship: { type: string}
        host_taxon_name: { type: string}
        host_taxon_name_indexed: { type: string}
        host_taxon_name_order_by: { type: string}
        host_taxon_level_ref: { type: integer, notnull: true, default:0}
        host_taxon_level_name: { type: string}
        host_taxon_status: { type: string}
        host_taxon_path: { type: string}
        host_taxon_parent_ref: { type: integer, default:0}
        host_taxon_extinct: { type: boolean}
        host_specimen_ref: { type: integer}
        ig_ref: { type: integer }
        ig_num: { type: string}
        ig_num_indexed: { type: string}
        ig_date_mask: { type: integer }
        ig_date: { type: string}
        acquisition_category: { type: string}
        acquisition_date_mask: { type: integer }
        acquisition_date: { type: string}
        with_types: {type: boolean }
        with_individuals: {type:boolean}
        individual_ref: {type: integer}
        individual_type: {type: string, notnull: true, default:'specimen'}
        individual_type_group: {type: string, notnull: true, default: 'specimen'}
        individual_type_search: {type: string, notnull: true, default: 'specimen'}
        individual_sex:  {type: string, notnull: true, default: 'undefined'}
        individual_state: {type: string, notnull: true, default: 'not applicable'}
        individual_stage: {type: string, notnull: true, default: 'undefined'}
        individual_social_status: {type: string, notnull: true, default: 'not applicable'}
        individual_rock_form: {type: string, notnull: true, default: 'not applicable'}
        individual_count_min: {type: integer }
        individual_count_max: {type: integer }
        with_parts: {type:boolean}
        part_ref: {type: integer}
        part: {type: string }
        part_status: {type: string }
        building: {type: string }
        floor: {type: string }
        room: {type: string }
        row: {type: string }
        shelf: {type: string }
        container_type: {type: string }
        container_storage: {type: string }
        container: {type: string }
        sub_container_type: {type: string }
        sub_container_storage: {type: string}
        sub_container: {type: string }
        part_count_min: {type: integer }
        part_count_max: {type:integer}
        specimen_status: {type: string}
        complete: {type: boolean}
        surnumerary: {type: boolean}
        spec_ident_ids: { type: string}
        ind_ident_ids: { type: string}
        spec_coll_ids: { type: string}
        spec_don_sel_ids: { type: string}
    relations:
        Specimen:
            class: Specimens
            local: spec_ref
            foreign: id
        SpecimenIndividual:
            class: SpecimenIndividuals
            local: individual_ref
            foreign: id
        PartRelation:
            class: SpecimenParts
            local: part_ref
            foreign: id
        Collection:
            class: Collections
            local: collection_ref
            foreign: id
        CollectionParent:
            local: collection_parent_ref
            foreign: id
            class: Collections
        Expedition:
            local: expedition_ref
            foreign: id
            class: Expeditions
        Gtu:
            local: gtu_ref
            foreign: id
        GtuParent:
            local: gtu_parent_ref
            foreign: id
            class: Gtu 
        Taxonomy:
            local: taxon_ref
            foreign: id
        TaxonomyLevel:
            local: taxon_level_ref
            foreign: id
            class: CatalogueLevels
        TaxonomyParent:
            local: taxon_parent_ref
            foreign: id
            class: Taxonomy
        Lithostratigraphy:
            local: litho_ref
            foreign: id
        LithostratigraphyLevel:
            local: litho_level_ref
            foreign: id
            class: CatalogueLevels
        LithostratigraphyParent:
            local: litho_parent_ref
            foreign: id
            class: Lithostratigraphy
        Chronostratigraphy:
            local: chrono_ref
            foreign: id
        ChronostratigraphyLevel:
            local: chrono_level_ref
            foreign: id
            class: CatalogueLevels
        ChronostratigraphyParent:
            local: chrono_parent_ref
            foreign: id
            class: Chronostratigraphy
        Lithology:
            local: lithology_ref
            foreign: id
        LithologyLevel:
            local: lithology_level_ref
            foreign: id
            class: CatalogueLevels
        LithologyParent:
            local: lithology_parent_ref
            foreign: id
            class: Lithology
        Mineralogy:
            local: mineral_ref
            foreign: id
        MineralogyLevel:
            local: mineral_level_ref
            foreign: id
            class: CatalogueLevels
        MineralogyParent:
            local: mineral_parent_ref
            foreign: id
            class: Mineralogy
        HostTaxon:            
            local: host_taxon_ref
            foreign: id
            class: Taxonomy
        HostTaxonLevel:
            local: host_taxon_level_ref
            foreign: id
            class: CatalogueLevels
        HostTaxonParent:
            local: host_taxon_parent_ref
            foreign: id
            class: Taxonomy
        HostSpecimen:            
            local: host_specimen_ref
            foreign: id
            class: Specimens
        Ig:
            local: ig_ref
            foreign: id
            class: Igs


IgsSearch:
    tableName: darwin_flat
    columns:
#         id: { type: integer, primary: true, autoincrement: true}
        spec_ref: { type: integer, notnull: true}
        category: { type: string}
        collection_ref: { type: integer, notnull: true, default:0}
        collection_type: { type: string}
        collection_code: { type: string}
        collection_name: { type: string}
        collection_is_public: {type: boolean, notnull: true, default: true}
        collection_parent_ref: { type: integer, default:0}
        collection_path: { type: string}
        expedition_ref: { type: integer, primary: true, notnull: true, default:0}
        expedition_name: { type: string}
        expedition_name_ts: { type: string}
        expedition_name_indexed: { type: string}
        station_visible: { type: boolean}
        gtu_ref: { type: integer, notnull: true, default:0}
        gtu_code: { type: string}
        gtu_parent_ref: { type: integer, default:0}
        gtu_path: { type: string}
        gtu_from_date_mask: { type: integer }
        gtu_from_date: { type: string}
        gtu_to_date_mask: { type: integer }
        gtu_to_date: { type: string}
        gtu_tag_values_indexed: { type: string}
        gtu_country_tag_indexed: { type: string}
        gtu_country_tag_value: { type: string}
        gtu_location: { type: string}
        taxon_ref: { type: integer, notnull: true, default:0}
        taxon_name:  { type: string}
        taxon_name_indexed: { type: string}    
        taxon_name_order_by: { type: string}
        taxon_level_ref: { type: integer, notnull: true }
        taxon_level_name: { type: string}
        taxon_status: { type: string}
        taxon_path: { type: string}
        taxon_parent_ref: { type: integer, default:0}
        taxon_extinct: { type: boolean}
        litho_ref: { type: integer, notnull: true, default:0} 
        litho_name: { type: string}
        litho_name_indexed: { type: string}
        litho_name_order_by: { type: string}
        litho_level_ref: { type: integer, notnull: true, default:0}    
        litho_level_name: { type: string}
        litho_status: { type: string}
        litho_local: { type: boolean}
        litho_color: { type: string}
        litho_path: { type: string}                
        litho_parent_ref: { type: integer, default:0}
        chrono_ref: { type: integer, notnull: true, default:0}
        chrono_name: { type: string}
        chrono_name_indexed: { type: string}
        chrono_name_order_by: { type: string}
        chrono_level_ref: { type: integer, notnull: true, default:0}
        chrono_level_name: { type: string}
        chrono_status: { type: string}
        chrono_local: {type: boolean}
        chrono_color: {type: string}
        chrono_path: { type: string}
        chrono_parent_ref: { type: integer, default:0}
        lithology_ref: { type: integer, notnull: true, default:0}    
        lithology_name: { type: string}
        lithology_name_indexed: { type: string}
        lithology_name_order_by: { type: string}
        lithology_level_ref: { type: integer, notnull: true, default:0}
        lithology_level_name: { type: string}
        lithology_status: { type: string}
        lithology_local: { type: boolean}
        lithology_color: { type: string}
        lithology_path: { type: string}
        lithology_parent_ref: { type: integer, default:0}
        mineral_ref: { type: integer, notnull: true, default:0}
        mineral_name: { type: string}
        mineral_name_indexed: { type: string}
        mineral_name_order_by: { type: string}
        mineral_level_ref: { type: integer, notnull: true, default:0}
        mineral_level_name: { type: string}
        mineral_status: { type: string}
        mineral_local: { type: boolean}
        mineral_color: { type: string}
        mineral_path: { type: string}
        mineral_parent_ref: { type: integer, default:0}
        host_taxon_ref: { type: integer, notnull: true, default:0}   
        host_relationship: { type: string}
        host_taxon_name: { type: string}
        host_taxon_name_indexed: { type: string}
        host_taxon_name_order_by: { type: string}
        host_taxon_level_ref: { type: integer, notnull: true, default:0}
        host_taxon_level_name: { type: string}
        host_taxon_status: { type: string}
        host_taxon_path: { type: string}
        host_taxon_parent_ref: { type: integer, default:0}
        host_taxon_extinct: { type: boolean}      
        host_specimen_ref: { type: integer}
        ig_ref: { type: integer, primary: true}                  
        ig_num: { type: string}           
        ig_num_indexed: { type: string}
        ig_date_mask: { type: integer }                 
        ig_date: { type: string}                      
        acquisition_category: { type: string}     
        acquisition_date_mask: { type: integer }        
        acquisition_date: { type: string}             
        with_types: {type: boolean }
        with_individuals: {type: boolean}
        individual_ref: {type: integer}
        individual_type: {type: string, notnull: true, default:'specimen'}
        individual_type_group: {type: string, notnull: true, default: 'specimen'}
        individual_type_search: {type: string, notnull: true, default: 'specimen'}
        individual_sex:  {type: string, notnull: true, default: 'undefined'}
        individual_state: {type: string, notnull: true, default: 'not applicable'}
        individual_stage: {type: string, notnull: true, default: 'undefined'}
        individual_social_status: {type: string, notnull: true, default: 'not applicable'}
        individual_rock_form: {type: string, notnull: true, default: 'not applicable'}
        individual_count_min: {type: integer }
        individual_count_max: {type: integer }
        with_parts: {type: boolean}
        part_ref: {type: integer }
        part: {type: string }
        part_status: {type: string }
        building: {type: string }
        floor: {type: string }
        room: {type: string }
        row: {type: string }
        shelf: {type: string }
        container_type: {type: string }
        container_storage: {type: string }
        container: {type: string }
        sub_container_type: {type: string }
        sub_container_storage: {type: string}
        sub_container: {type: string }
        part_count_min: {type: integer }
        part_count_max: {type:integer}
        specimen_status: {type: string}
        complete: {type: boolean}
        surnumerary: {type: boolean}
    relations:
        Specimen:
            class: Specimens
            local: spec_ref
            foreign: id
        SpecimenIndividual:
            class: SpecimenIndividuals
            local: individual_ref
            foreign: id
        PartRelation:
            class: SpecimenParts
            local: part_ref
            foreign: id
        Collection:
            class: Collections
            local: collection_ref
            foreign: id
        CollectionParent:
            local: collection_parent_ref
            foreign: id
            class: Collections
        Expedition:
            local: expedition_ref
            foreign: id
            class: Expeditions
        Gtu:
            local: gtu_ref
            foreign: id
        GtuParent:
            local: gtu_parent_ref
            foreign: id
            class: Gtu 
        Taxonomy:
            local: taxon_ref
            foreign: id
        TaxonomyLevel:
            local: taxon_level_ref
            foreign: id
            class: CatalogueLevels
        TaxonomyParent:
            local: taxon_parent_ref
            foreign: id
            class: Taxonomy
        Lithostratigraphy:
            local: litho_ref
            foreign: id
        LithostratigraphyLevel:
            local: litho_level_ref
            foreign: id
            class: CatalogueLevels
        LithostratigraphyParent:
            local: litho_parent_ref
            foreign: id
            class: Lithostratigraphy
        Chronostratigraphy:
            local: chrono_ref
            foreign: id
        ChronostratigraphyLevel:
            local: chrono_level_ref
            foreign: id
            class: CatalogueLevels
        ChronostratigraphyParent:
            local: chrono_parent_ref
            foreign: id
            class: Chronostratigraphy
        Lithology:
            local: lithology_ref
            foreign: id
        LithologyLevel:
            local: lithology_level_ref
            foreign: id
            class: CatalogueLevels
        LithologyParent:
            local: lithology_parent_ref
            foreign: id
            class: Lithology
        Mineralogy:
            local: mineral_ref
            foreign: id
        MineralogyLevel:
            local: mineral_level_ref
            foreign: id
            class: CatalogueLevels
        MineralogyParent:
            local: mineral_parent_ref
            foreign: id
            class: Mineralogy
        HostTaxon:            
            local: host_taxon_ref
            foreign: id
            class: Taxonomy
        HostTaxonLevel:
            local: host_taxon_level_ref
            foreign: id
            class: CatalogueLevels
        HostTaxonParent:
            local: host_taxon_parent_ref
            foreign: id
            class: Taxonomy
        HostSpecimen:            
            local: host_specimen_ref
            foreign: id
            class: Specimens
        Ig:
            local: ig_ref
            foreign: id
            class: Igs    
FlatDict:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        referenced_relation: { type: string, notnull: true}
        dict_field: { type: string, notnull: true}
        dict_value: { type: string, notnull: true}

Imports:
    tableName: imports
    columns:
        id: { type: integer, primary: true, autoincrement: true},
        filename: { type: string, notnull: true},
        user_ref: {type:integer, notnull: true},
        format : {type:string,notnull: true},
        collection_ref: { type: integer, notnull: true, default:0},
        state: {type:string,notnull:true, default:'imported'},
        created_at: { type: string, notnull: true},
        updated_at: { type: string, notnull: true}

Staging:
    columns:
        id: { type: integer, primary: true, autoincrement: true}
        spec_ref: { type: integer}
        import_ref: { type: integer, notnull: true}
        category: { type: string}
        expedition_ref: { type: integer default:0}
        expedition_name: { type: string}
        station_visible: { type: boolean}
        gtu_ref: { type: integer, notnull: true, default:0}
        gtu_code: { type: string}
        gtu_from_date_mask: { type: integer }
        gtu_from_date: { type: string}
        gtu_to_date_mask: { type: integer }
        gtu_to_date: { type: string}
        gtu_country_tag_value: { type: string}
        taxon_ref: { type: integer}
        taxon_name:  { type: string}
        taxon_level_ref: { type: integer}
        taxon_level_name: { type: string}
        taxon_status: { type: string}
        taxon_extinct: { type: boolean}
        litho_ref: { type: integer} 
        litho_name: { type: string}
        litho_level_ref: { type: integer}    
        litho_level_name: { type: string}
        litho_status: { type: string}
        litho_local: { type: boolean}
        litho_color: { type: string}
        chrono_ref: { type: integer}
        chrono_name: { type: string}
        chrono_level_ref: { type: integer}
        chrono_level_name: { type: string}
        chrono_status: { type: string}
        chrono_local: {type: boolean}
        chrono_color: {type: string}
        lithology_ref: { type: integer}    
        lithology_name: { type: string}
        lithology_name_indexed: { type: string}
        lithology_name_order_by: { type: string}
        lithology_level_ref: { type: integer}
        lithology_level_name: { type: string}
        lithology_status: { type: string}
        lithology_local: { type: boolean}
        lithology_color: { type: string}
        lithology_path: { type: string}
        mineral_ref: { type: integer}
        mineral_name: { type: string}
        mineral_name_indexed: { type: string}
        mineral_name_order_by: { type: string}
        mineral_level_ref: { type: integer}
        mineral_level_name: { type: string}
        mineral_status: { type: string}
        mineral_local: { type: boolean}
        mineral_color: { type: string}
        host_taxon_ref: { type: integer}   
        host_relationship: { type: string}
        host_taxon_name: { type: string}
        host_taxon_level_ref: { type: integer}
        host_taxon_level_name: { type: string}
        host_taxon_status: { type: string}
        host_taxon_extinct: { type: boolean}      
        host_specimen_ref: { type: integer}
        ig_ref: { type: integer, primary: true}                  
        ig_num: { type: string}           
        ig_date_mask: { type: integer }                 
        ig_date: { type: string}                      
        acquisition_category: { type: string}     
        acquisition_date_mask: { type: integer }        
        acquisition_date: { type: string}
        individual_ref: {type: integer}
        individual_type: {type: string}
        individual_type_group: {type: string}
        individual_type_search: {type: string}
        individual_sex:  {type: string}
        individual_state: {type: string}
        individual_stage: {type: string}
        individual_social_status: {type: string}
        individual_rock_form: {type: string}
        individual_count_min: {type: integer }
        individual_count_max: {type: integer }
        part_ref: {type: integer }
        part: {type: string }
        part_status: {type: string }
        building: {type: string }
        floor: {type: string }
        room: {type: string }
        row: {type: string }
        shelf: {type: string }
        container_type: {type: string }
        container_storage: {type: string }
        container: {type: string }
        sub_container_type: {type: string }
        sub_container_storage: {type: string}
        sub_container: {type: string }
        part_count_min: {type: integer }
        part_count_max: {type:integer}
        specimen_status: {type: string}
        complete: {type: boolean}
        surnumerary: {type: boolean}
    relations:
        Import:
            local: import_ref
            foreign: id
            class: Imports
   
StagingTagGroups:
    columns:
        id: { type: integer, primary: true, autoincrement: true }
        staging_ref:{ type: integer, notnull: true}
        group_name: {type: string, notnull: true}
        sub_group_name:  { type: string, notnull: true }
        tag_value: { type: string, notnull: true}
    relations:
        Staging:
            local: staging_ref
            foreign: id
            class: Staging